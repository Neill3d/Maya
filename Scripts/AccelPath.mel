// declare variablesint $m_startFrame = 19;int $m_endFrame = 56;int $m_reducePath = 1;global proc ShowAccelPath( int $st, int $ed, int $rp) {		// get name's of selection geometry	string	$selObjects[];	string $obj;	$selObjects = 'ls -selection';	// declare local var's	int $i = 0;	// build accel path for each selected object	string $pathName;	string $pathObjects[];	for( $obj in $selObjects ) {		$pathName = "path_" + $obj		$pathObjects[$i++] = polyCube -n $pathName;	}		/*  		creating keyframes for all animatable keys of this one objects	*/	$i = 0;	vector $objAccels[];	currentTime $st;	for( $obj in $selObjects ) {		$objAccels[$i++].x = 'getAttr $obj.translateX';		$objAccels[$i++].y = 'getAttr $obj.translateY';		$objAccels[$i++].z = 'getAttr $obj.translateZ';	}	float $tX;	float $tY;	float $tZ;	int $j;	for ($i=$st+1; $i<=$ed; $i++) {		currentTime $i;		$j = 0;		for( $obj in $selObjects ) {			$tX = 'getAttr $obj.translateX';			$tY = 'getAttr $obj.translateY';			$tZ = 'getAttr $obj.translateZ';			$objAccels[$j].x = $tX - $objAccels[$j].x;			$objAccels[$j].y = $tY - $objAccels[$j].y;			$objAccels[$j].z = $tZ - $objAccels[$j].z;			string $obj2 = "path_" + $obj;			move -a $objAccels[$j].x $objAccels[$j].y $objAccels[$j].z $obj2;			setKeyframe -breakdown 0 -hierarchy none -controlPoints 0 -shape 0 { $obj2 };			$objAccels[$j].x = $tX;			$objAccels[$j].y = $tY;			$objAccels[$j].z = $tZ;						$j++;		}	}	// reduce curve for created path's	if ($rp == 1) {		for( $obj in $pathObjects ) {			filterCurve -f simplify -timeTolerance 0.05  { $obj + ".translateX"};				filterCurve -f simplify -timeTolerance 0.05  { $obj + ".translateY"};				filterCurve -f simplify -timeTolerance 0.05  { $obj + ".translateZ"};			}	}}window -t "Acceleration path" -wh 400 400 AccelWin;columnLayout;intField -minValue 1 -maxValue 100 -value $m_startFrame fieldStartFrame;intField -minValue 1 -maxValue 100 -value $m_endFrame fieldEndFrame;connectControl fieldStartFrame ("$m_startFrame");connectControl fieldEndFrame ("$m_endFrame");button -label "Do it!" -w 70 -c " ShowAccelPath( $m_startFrame, $m_endFrame, $m_reducePath) ";showWindow AccelWin;